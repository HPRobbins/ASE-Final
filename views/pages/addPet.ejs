<!DOCTYPE html>
<html>
<head>
    <%- include('../partials/head') %>
</head>

<header>
   <%- include('../partials/header') %>
</header>
<body style="background-color: #FF9566;">
	<div class ="container">
		<p><h1 style="color: white;">Add Pet</h1> <button class="btn btn-light btn-outline-dark" href="/users/">Back to users index</button>

		<form id="addPet" enctype="multipart/formdata">
			<div class="form-group">
				<label for="userID" style="color: white; font-size: 20px" >User ID:</label>
				<input type="text" class="form-control" id="userID" name="userID" value="<%= user.userID %>" disabled>
			</div>
			<div class="form-group">
				<label for="petName" style="color: white; font-size: 20px">Pet's Name:</label>
				<input type="text" class="form-control" id="petName" name="petName">
			</div>
			<div class="form-group">
				<label for="petType" style="color: white; font-size: 20px">Pet Type:</label>
				<input type="text" class="form-control" id="petType" name="petType">
			</div>
			<div class="form-group">
				<label for="petSex" style="color: white; font-size: 20px">Pet's Sex:</label>
				<input type="text" class="form-control" id="petSex" name="petSex">
			</div>
			<div class="form-group">
				<label for="petBreed" style="color: white; font-size: 20px">Pet's Breed:</label>
				<input type="text" class="form-control" id="petBreed" name="petBreed">
			</div>
			<div class="form-group">
				<label for="petWeight" style="color: white; font-size: 20px">Pet's Weight:</label>
				<input type="text" class="form-control" id="petWeight" name="petWeight">
			</div>
			<div class="form-group">
				<label for="petDoB" style="color: white; font-size: 20px">Pet's Date of Birth:</label>
				<input type="text" class="form-control" id="petDoB" name="petDoB">
			</div>
			<button type="submit" class="btn btn-primary">Submit</button>
		</form>
	</div>


	<script src="/assets/getAllURLParams.js"></script>

    <script src="/assets/cookies.js"></script>

    <script src="/assets/axios.min.js"></script>


	<script>
		// taken from code_12, 04, signup.html
		const addPet=document.getElementById('addPet')
		addPet.addEventListener('submit',(e)=>{
			e.preventDefault();
            let userID=document.querySelectorAll('[name="userID"]')[0]
			let petName=document.querySelectorAll('[name="petName"]')[0]
			let petType=document.querySelectorAll('[name="petType"]')[0]
            let petSex=document.querySelectorAll('[name="petSex"]')[0]
            let petBreed=document.querySelectorAll('[name="petBreed"]')[0]
            let petWeight=document.querySelectorAll('[name="petWeight"]')[0]
            let petDoB=document.querySelectorAll('[name="petDoB"]')[0]
            //let petDoB=document.querySelectorAll('[name="petDob"]')[0]
            let urlportion=userID.value

			axios({
			method: 'post',
			url: urlportion,
			data: {

				userID:userID.value,
				petName:petName.value,
				petType:petType.value,
				petSex:petSex.value,
                petBreed:petBreed.value,
                petWeight:petWeight.value,
                petDoB:petDoB.value
			}
			})
			.then(function (response) {
				console.log(response);
			})
			.catch(function (error) {
				console.log(error);
			});
		})
	</script>

</body>

<footer>
    <%- include('../partials/footer') %>
</footer>
</html>
